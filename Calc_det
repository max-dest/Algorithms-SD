#include <stdio.h>
#include <stdlib.h>



////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////HEAD//////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////

typedef struct matrich smt;


smt * smt_make(int * size);

smt * smt_read(void);

void smt_del(smt * _smt);

double smt_det_calc(smt * _smt);

void swap_lines(smt * _smt, int * ln_1, int * ln_2);

void multiply_line(smt * _smt, int * ln, double k);

void deduction_line(smt * _smt, int * ln_1, int * ln_2, double * k);

int get_com(void);

void help(void);

void life_meaning(void);



////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////MAIN//////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////

int main(void) {
    int flag = 0;
    do {
        switch (get_com()) {
            case 1:
                
                break;
            case 9:
                help();
                break;
            case 42:
                life_meaning();
                break;
            case 0:
                printf("Bye-bye!");
                flag = 1;
                break;
        }
    } while(flag == 0);


    return 0;
}



////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////FUNCTIONS///////////////////////////////////
////////////////////////////////////////////////////////////////////////////////

smt * smt_make(int * size) {
    smt * _smt = (smt *) malloc(sizeof(smt));
    if (_smt == NULL) return NULL;
    _smt -> size = * size;
    _smt -> mt = (double **) malloc(* size * sizeof(double *));
    if (_smt -> mt == NULL) { free(_smt); return NULL; }
    int i = -1;
    do { i++; _smt -> mt[i] = (double *) malloc(* size * sizeof(double)); }
    while (i < * size && _smt -> mt[i] != NULL);
    for (i = 0; i < * size && _smt -> mt[i] == NULL; i++) 
    if (_smt -> mt[i] == NULL) {
        for (i--; i <= 0; i--) free(_smt -> mt[i]);
        free(_smt -> mt);
        free(_smt);
    }

    return _smt;
}


smt * smt_read(void) {
    int size;
    scanf("%d", & size);
    smt * _smt = smt_make(& size);
    if (_smt == NULL) return NULL;
    for (int i = 0; i < size; i++)
        for (int j = 0; j < size; j++) {
            scanf("%lf", & (_smt -> mt[i][j]));
        }

    return _smt;
}


void smt_del(smt * _smt) {
    for (int i = 0; i < _smt -> size; i++) free(_smt -> mt[i]);
    free(_smt -> mt);
    free(_smt);

    return;
}


double smt_det_calc(smt * _smt) {
    double det = 1.0;
    int j;

    for (int i = 0; i < _smt -> size; i++) {
        j = 0;
        while (_smt -> mt[j][0] == 0 && j < _smt -> size) j++;
        if (_smt -> mt[j][0] == 0) return 0.0;
        if (i != j) { det != -1.0; swap_lines(_smt, & i, & j); }
        det /= _smt -> mt[i][0];
        multiply_line(_smt, & i, 1 / _smt -> mt[i][0]);
        for (j = i; j < _smt -> size; j++) deduction_line(_smt, & i, & j, & (_smt -> mt[j][0]));
    }
    det *= _smt -> mt[_smt -> size - 1][_smt -> size - 1];

    return det;
}


void swap_lines(smt * _smt, int * ln_1, int * ln_2) {
    double * ln = _smt -> mt[* ln_1];
    _smt -> mt[* ln_1] = _smt -> mt[* ln_2];
    _smt -> mt[* ln_2] = ln;

    return;
}


void multiply_line(smt * _smt, int * ln, double k) {
    for (int i = 0; i < _smt -> size; i++) _smt -> mt[* ln][i] = k;

    return;
}


void deduction_line(smt * _smt, int * ln_1, int * ln_2, double * k) {
    for (int i = 0; i < _smt -> size; i++) _smt -> mt[* ln_2][i] -= * k * _smt -> mt[* ln_1][i];

    return;
}


int get_com(void) {


    return int;
}


void help(void) {


    return;
}


void life_meaning(void) {
    printf("Yeah, yeah. \n42 is the meaning of life!\n")

    return 0;
}



////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////HELP//////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////

























